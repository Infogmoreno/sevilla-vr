<html>
  <head>
    <title>Sevilla-VR</title>
    <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
    <script src="https://unpkg.com/aframe-event-set-component@4.2.1/dist/aframe-event-set-component.min.js"></script>
  </head>
  <body>
    <a-scene>
      <a-asset>
        <!-- imagenes 360º -->
        <img
          id="SetasEncarnacion"
          src="SetasEncarnac_equirectangular.jpg"
          crossorigin="anonymous"
        />

        <img
          id="PlazaNueva"
          src="Plza_Nueva_equirectangular.jpg"
          crossorigin="anonymous"
        />
        <img
          id="VirgenReyes"
          src="Plza_VirgenReyes_equirectangular.jpg"
          crossorigin="anonymous"
        />
        <img
          id="Inmaculada"
          src="Plza_Inmaculada_equirectangular.jpg"
          crossorigin="anonymous"
        />
        <img
          id="AvdaConst"
          src="Avda_Constitucion_equirectangular.jpg"
          crossorigin="anonymous"
        />
        <img
          id="MarquesContadero"
          src="MarquesContadero_equirectangular.jpg"
          crossorigin="anonymous"
        />
        <img
          id="PtaJerez"
          src="Puerta_Jerez_equirectangular.jpg"
          crossorigin="anonymous"
        />

        <!--botones-->
        <img
          id="icon_btn_Setas"
          src="btn_Setas_Encarnacion.png"
          crossorigin="anonymous"
        />

        <img
          id="icon_btn_PlzaNueva"
          src="btn_Plaza_Nueva"
          crossorigin="anonymous"
        />
        <img
          id="icon_btn_VirgeReyes"
          src="btn_Plza_VirgenReyes.pg"
          crossorigin="anonymous"
        />
        <img
          id="icon_btn_Inmaculada"
          src="btn_LaInmaculada.png"
          crossorigin="anonymous"
        />
        <img
          id="icon_btn_AvdConst"
          src="btn_AvdaConstituc.png"
          crossorigin="anonymous"
        />
        <img
          id="icon_btn_MarquesContad"
          src="btn_MarquesContadero.png"
          crossorigin="anonymous"
        />
        <img
          id="icon_btn_PtaJerez"
          src="btn_PuertaJerez.png"
          crossorigin="anonymous"
        />
        <img
          id="icon_btn_inicio"
          src="btn_inicio.png"
          crossorigin="anonimous"
        />

        <!-- sonido-->
        <audio
          id="click"
          src="blip.wav"
          crossorigin="anonymous"
        ></audio>

        <!--Pantalla inicio-->

        <a-image
          id="pantallainicio"
          src="Pantalla_inicio.jpg"
          crossorigin="anonimous"
        ></a-image>
      </a-asset>

      <!-- cámara-cursor -->

      <a-entity camera look-controls position="0 1.7 0">
        <a-entity
          id="cursor"
          raycaster="objects:.clickable"
          cursor="fuse: true; fuseTimeout: 1000"
          position="0 0 -1"
          geometry="primitive: ring; radiusInner: 0.01; radiusOuter: 0.015"
          material="color: cyan; shader: flat; opacity: 0.5"
        >
        </a-entity>
      </a-entity>

      <a-entity id="pantallainicial" rotation="0 12 0">
        <a-plane
          class="clickable"
          id="btn_inicio"
          position="0 0 -4.5"
          src="#icon_btn_inicio"
          width="1.2"
          height="0.45"
          opacity="0.9"
          sound="on: mouseenter; src: #click; volume:0.3"
          onclick="setsceneppal()"
          event-set__renders="_event: click;
                              _target: #escenappal;
                              visible: true;"
          event-set__expandir="_event: mouseenter;
                                 animation.property: scale;
                                 animation.from: 1 1 1;
                                 animation.to: 1.2 1.2 1.2;
                                 animation.dur: 100;
                                 opacity:0.6"
          event-set__contraer="_event: mouseleave;
                                 animation.property: scale;
                                 animation.from: 1.2 1.2 1.2;
                                 animation.to: 1 1 1;
                                 animation.dur: 100;
                                 opacity:0.9"
        ></a-plane>

        <a-curvedimage
          src="#pantallainicio"
          height="1"
          position="11.5 1 -5"
          radius="2"
          theta-length="72"
          rotation="0 -180 0"
          scale="10 10 1"
        ></a-curvedimage>
        <a-sky color="Black"></a-sky>
      </a-entity>

      <a-entity id="escenappal" visible="false">
        <!-- botones -->

        <a-entity id="grupo_botones" position="-1 0 0.5">
          <a-plane
            class="clickable"
            id="btn_Setas"
            position="1 2.4 -3"
            src="#icon_btn_Setas"
            width="0.75"
            height="0.25"
            opacity="0.9"
            sound="on: mouseenter; src: #click; volume:0.3"
            event-set__renders="_event: click;
                              _target: #renders;
                              src: #SetasEncarnacion;
                              rotation: 0 165 0;
                              dur: 150;
                              
                              "
            event-set__mouseenter="_event: mouseenter;
                                 _target: #cursor;
                                color: white;
                                click
                                "
            event-set__mouseleave="_event: mouseleave;
                                 _target: #cursor;
                                color: black;"
            event-set__expandir="_event: mouseenter;
                                 animation.property: scale;
                                 animation.from: 1 1 1;
                                 animation.to: 1.2 1.2 1.2;
                                 animation.dur: 100;
                                 opacity:0.6 "
            event-set__contraer="_event: mouseleave;
                                 animation.property: scale;
                                 animation.from: 1.2 1.2 1.2;
                                 animation.to: 1 1 1;
                                 animation.dur: 100;
                                 opacity:0.9"
          ></a-plane>

          <a-plane
            class="clickable"
            id="btn_Plaza Nueva"
            position="1 2 -3"
            src="#icon_btn_PlzaNueva"
            width="0.75"
            height="0.25"
            opacity="0.9"
            sound="on: mouseenter; src: #click; volume:0.3"
            event-set__renders="_event: click;
                              _target: #renders;
                              src: #PlazaNueva;
                              rotation: 0 145 0;
                              dur: 150;
                              
                              "
            event-set__mouseenter="_event: mouseenter;
                                 _target: #cursor;
                                color: white;
                                click
                                "
            event-set__mouseleave="_event: mouseleave;
                                 _target: #cursor;
                                color: black;"
            event-set__expandir="_event: mouseenter;
                                 animation.property: scale;
                                 animation.from: 1 1 1;
                                 animation.to: 1.2 1.2 1.2;
                                 animation.dur: 100;
                                 opacity:0.6"
            event-set__contraer="_event: mouseleave;
                                 animation.property: scale;
                                 animation.from: 1.2 1.2 1.2;
                                 animation.to: 1 1 1;
                                 animation.dur: 100;
                                 opacity:0.9"
          ></a-plane>
          <a-plane
            class="clickable"
            id="btn_VirgenReyes"
            position="1 1.6 -3"
            src="#icon_btn_VirgeReyes"
            width="0.75"
            height="0.25"
            opacity="0.9"
            sound="on: mouseenter; src: #click; volume:0.3"
            event-set__renders="_event: click;
                              _target: #renders;
                              src: #VirgenReyes;
                              rotation: 0 135 0;
                              dur: 150;
                              "
            event-set__mouseenter="_event: mouseenter;
                                 _target: #cursor;
                                color: white;"
            event-set__mouseleave="_event: mouseleave;
                                 _target: #cursor;
                                color: black;"
            event-set__expandir="_event: mouseenter;
                                 animation.property: scale;
                                 animation.from: 1 1 1;
                                 animation.to: 1.2 1.2 1.2;
                                 animation.dur: 100;
                                opacity:0.6"
            event-set__contraer="_event: mouseleave;
                                 animation.property: scale;
                                 animation.from: 1.2 1.2 1.2;
                                 animation.to: 1 1 1;
                                 animation.dur: 100;
                                 opacity:0.9"
          ></a-plane>
          <a-plane
            class="clickable"
            id="btn_Inmaculada"
            position="1 1.2 -3"
            src="#icon_btn_Inmaculada"
            width="0.75"
            height="0.25"
            opacity="0.9"
            sound="on: mouseenter; src: #click; volume:0.3"
            event-set__renders="_event: click;
                              _target: #renders;
                              src: #Inmaculada;
                              rotation: 0 27 0;
                              dur: 150;"
            event-set__mouseenter="_event: mouseenter;
                                 _target: #cursor;
                                color: white;"
            event-set__mouseleave="_event: mouseleave;
                                 _target: #cursor;
                                color: black;"
            event-set__expandir="_event: mouseenter;
                                 animation.property: scale;
                                 animation.from: 1 1 1;
                                 animation.to: 1.2 1.2 1.2;
                                 animation.dur: 100;
                                 opacity:0.6"
            event-set__contraer="_event: mouseleave;
                                 animation.property: scale;
                                 animation.from: 1.2 1.2 1.2;
                                 animation.to: 1 1 1;
                                 animation.dur: 100;
                                 opacity:0.9"
          ></a-plane>
          <a-plane
            class="clickable"
            id="btn_Constitucion"
            position="1 0.8 -3"
            src="#icon_btn_AvdConst"
            width="0.75"
            height="0.25"
            opacity="0.9"
            sound="on: mouseenter; src: #click; volume:0.3"
            event-set__renders="_event: click;
                              _target: #renders;
                              src: #AvdaConst;
                              rotation: 0 -50 0;
                              dur: 150;"
            event-set__mouseenter="_event: mouseenter;
                                 _target: #cursor;
                                color: white;"
            event-set__mouseleave="_event: mouseleave;
                                 _target: #cursor;
                                color: black;
                                 "
            event-set__expandir="_event: mouseenter;
                                 animation.property: scale;
                                 animation.from: 1 1 1;
                                 animation.to: 1.2 1.2 1.2;
                                 animation.dur: 100;
                                 opacity:0.6"
            event-set__contraer="_event: mouseleave;
                                 animation.property: scale;
                                 animation.from: 1.2 1.2 1.2;
                                 animation.to: 1 1 1;
                                 animation.dur: 100;
                                 opacity:0.9"
          ></a-plane>
          <a-plane
            class="clickable"
            id="btn_MarquesCont"
            position="1 0.4 -3"
            src="#icon_btn_MarquesContad"
            width="0.75"
            height="0.25"
            opacity="0.9"
            sound="on: mouseenter; src: #click; volume:0.3"
            event-set__renders="_event: click;
                              _target: #renders;
                              src: #MarquesContadero;
                              rotation: 0 -5 0;
                              dur: 150;"
            event-set__mouseenter="_event: mouseenter;
                                 _target: #cursor;
                                color: white;"
            event-set__mouseleave="_event: mouseleave;
                                 _target: #cursor;
                                color: black;"
            event-set__expandir="_event: mouseenter;
                                 animation.property: scale;
                                 animation.from: 1 1 1;
                                 animation.to: 1.2 1.2 1.2;
                                 animation.dur: 100;
                                 opacity:0.6"
            event-set__contraer="_event: mouseleave;
                                 animation.property: scale;
                                 animation.from: 1.2 1.2 1.2;
                                 animation.to: 1 1 1;
                                 animation.dur: 100;
                                 opacity:0.9"
          ></a-plane>
          <a-plane
            class="clickable"
            id="btn_PtaJerez"
            position="1 0 -3"
            src="#icon_btn_PtaJerez"
            width="0.75"
            height="0.25"
            opacity="0.9"
            sound="on: mouseenter; src: #click; volume:0.3"
            event-set__renders="_event: click;
                              _target: #renders;
                              src: #PtaJerez;
                              rotation: 0 35 0;
                              dur: 150;"
            event-set__mouseenter="_event: mouseenter;
                                 _target: #cursor;
                                color: white;"
            event-set__mouseleave="_event: mouseleave;
                                 _target: #cursor;
                                color: black;"
            event-set__expandir="_event: mouseenter;
                                 animation.property: scale;
                                 animation.from: 1 1 1;
                                 animation.to: 1.2 1.2 1.2;
                                 animation.dur: 100;
                                 opacity:0.6"
            event-set__contraer="_event: mouseleave;
                                 animation.property: scale;
                                 animation.from: 1.2 1.2 1.2;
                                 animation.to: 1 1 1;
                                 animation.dur: 100;
                                 opacity:0.9"
          ></a-plane>
        </a-entity>

        <!-- Render -->

        <a-sky id="renders" src="#PlazaNueva" rotation="0 90 0"></a-sky>
      </a-entity>
    </a-scene>

    <!-- scripts -->

    <script>
      document.querySelector("#boton").onclick = function () {
        document.querySelector("#loading").style.display = "none";
      };
    </script>
    <script type="text/javascript">
      function setsceneppal() {
        document.getElementById("escenappal").setAttribute("visible", "true");
        document
          .getElementById("pantallainicial")
          .setAttribute("visible", "false");
      }
    </script>
  </body>
</html>
